<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#6366f1">
  <meta name="description" content="Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ Ø§Ù„Ø¹Ù„Ù…ÙŠ">
  <title>ğŸ“ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø°ÙƒÙŠ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #6366f1;
      --primary-dark: #4f46e5;
      --secondary: #8b5cf6;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
      --info: #3b82f6;
      --light: #f8fafc;
      --dark: #1e293b;
      --gray: #64748b;
      --card-bg: #ffffff;
      --sidebar-bg: #1e293b;
      --header-bg: #ffffff;
      --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --radius: 12px;
      --transition: all 0.3s ease;
    }
    
    .dark-mode {
      --primary: #818cf8;
      --primary-dark: #6366f1;
      --secondary: #a78bfa;
      --light: #1e293b;
      --dark: #f1f5f9;
      --gray: #94a3b8;
      --card-bg: #334155;
      --sidebar-bg: #0f172a;
      --header-bg: #1e293b;
      --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      margin: 0;
      padding: 0;
      direction: rtl;
      text-align: right;
      min-height: 100vh;
      color: var(--dark);
      transition: var(--transition);
    }
    
    /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    
    .loading-logo {
      font-size: 4rem;
      color: white;
      margin-bottom: 20px;
      animation: pulse 2s infinite;
    }
    
    .loading-text {
      color: white;
      font-size: 1.2rem;
      margin-bottom: 30px;
    }
    
    .loading-bar {
      width: 200px;
      height: 6px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
      overflow: hidden;
    }
    
    .loading-progress {
      height: 100%;
      background: white;
      width: 0%;
      border-radius: 3px;
      transition: width 0.3s ease;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    
    /* Ø£Ù†Ù…Ø§Ø· ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
    .auth-container {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      padding: 20px;
    }
    
    .auth-box {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 30px;
      width: 100%;
      max-width: 400px;
      box-shadow: var(--shadow);
      text-align: center;
    }
    
    .auth-logo {
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: var(--primary);
    }
    
    .auth-title {
      font-size: 1.5rem;
      margin-bottom: 20px;
      color: var(--dark);
    }
    
    .auth-tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    .auth-tab {
      flex: 1;
      padding: 10px;
      background: none;
      border: none;
      font-family: inherit;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      color: var(--gray);
    }
    
    .auth-tab.active {
      color: var(--primary);
      border-bottom: 2px solid var(--primary);
    }
    
    .auth-form {
      display: none;
    }
    
    .auth-form.active {
      display: block;
    }
    
    .auth-footer {
      margin-top: 20px;
      font-size: 0.9rem;
      color: var(--gray);
    }
    
    .auth-link {
      color: var(--primary);
      cursor: pointer;
      text-decoration: underline;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      margin-bottom: 8px;
      color: var(--dark);
      font-weight: 600;
      text-align: right;
    }
    
    .form-control {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      font-family: inherit;
      background: var(--light);
      color: var(--dark);
      transition: var(--transition);
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: var(--radius);
      font-family: inherit;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      box-shadow: 0 4px 6px rgba(99, 102, 241, 0.3);
    }
    
    .btn-success {
      background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
      color: white;
      box-shadow: 0 4px 6px rgba(16, 185, 129, 0.3);
    }
    
    .btn-warning {
      background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
      color: white;
      box-shadow: 0 4px 6px rgba(245, 158, 11, 0.3);
    }
    
    .btn-danger {
      background: linear-gradient(135deg, var(--danger) 0%, #dc2626 100%);
      color: white;
      box-shadow: 0 4px 6px rgba(239, 68, 68, 0.3);
    }
    
    .btn-info {
      background: linear-gradient(135deg, var(--info) 0%, #2563eb 100%);
      color: white;
      box-shadow: 0 4px 6px rgba(59, 130, 246, 0.3);
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    /* Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
    .notification {
      position: fixed;
      top: 20px;
      left: 20px;
      right: 20px;
      background: var(--card-bg);
      padding: 15px 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      justify-content: space-between;
      z-index: 1100;
      transform: translateY(-100px);
      opacity: 0;
      transition: var(--transition);
    }
    
    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    .notification.success {
      border-right: 4px solid var(--success);
    }
    
    .notification.error {
      border-right: 4px solid var(--danger);
    }
    
    .notification.warning {
      border-right: 4px solid var(--warning);
    }
    
    .notification.info {
      border-right: 4px solid var(--info);
    }
    
    .notification-content {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .close-notification {
      background: none;
      border: none;
      color: var(--gray);
      cursor: pointer;
      font-size: 1.2rem;
    }
    
    /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
    .app-container {
      display: none;
      min-height: 100vh;
    }
    
    .app-container.active {
      display: flex;
      flex-direction: column;
    }
    
    .sidebar {
      width: 100%;
      background: var(--sidebar-bg);
      color: white;
      padding: 10px 0;
      transition: var(--transition);
      box-shadow: var(--shadow);
      z-index: 100;
      display: flex;
      flex-direction: column;
    }
    
    .sidebar-header {
      padding: 0 15px 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .sidebar-header h2 {
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .sidebar-toggle {
      background: none;
      border: none;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      display: none;
    }
    
    .sidebar-menu {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      overflow-x: auto;
      padding-bottom: 10px;
    }
    
    .sidebar-menu li {
      margin-bottom: 0;
      flex: 0 0 auto;
    }
    
    .sidebar-menu a {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 15px;
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: var(--transition);
      border-right: 3px solid transparent;
      white-space: nowrap;
    }
    
    .sidebar-menu a:hover, .sidebar-menu a.active {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border-right-color: var(--primary);
    }
    
    .sidebar-footer {
      padding: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .theme-toggle {
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .theme-toggle:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    
    /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: auto;
      background: var(--light);
    }
    
    .header {
      background: var(--header-bg);
      padding: 15px 20px;
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 10;
    }
    
    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .header h1 {
      font-size: 1.5rem;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .user-actions {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .user-profile {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: var(--radius);
      transition: var(--transition);
    }
    
    .user-profile:hover {
      background: rgba(0, 0, 0, 0.05);
    }
    
    .user-avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
    }
    
    .user-menu {
      position: relative;
    }
    
    .user-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 10px 0;
      min-width: 150px;
      z-index: 1000;
      display: none;
    }
    
    .user-dropdown.show {
      display: block;
    }
    
    .user-dropdown-item {
      display: block;
      width: 100%;
      padding: 10px 15px;
      background: none;
      border: none;
      text-align: right;
      font-family: inherit;
      cursor: pointer;
      transition: var(--transition);
      color: var(--dark);
    }
    
    .user-dropdown-item:hover {
      background: rgba(0, 0, 0, 0.05);
    }
    
    .user-dropdown-item.logout {
      color: var(--danger);
    }
    
    .header-actions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .content {
      padding: 20px;
      flex: 1;
    }
    
    .section {
      display: none;
    }
    
    .section.active {
      display: block;
    }
    
    /* Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
    .dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 25px;
    }
    
    .stat-card {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .stat-card:hover {
      transform: translateY(-5px);
    }
    
    .stat-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
    }
    
    .stat-icon.primary {
      background: rgba(99, 102, 241, 0.1);
      color: var(--primary);
    }
    
    .stat-icon.success {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }
    
    .stat-icon.warning {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
    }
    
    .stat-icon.danger {
      background: rgba(239, 68, 68, 0.1);
      color: var(--danger);
    }
    
    .stat-info h3 {
      font-size: 1.5rem;
      margin-bottom: 5px;
    }
    
    .stat-info p {
      color: var(--gray);
      font-size: 0.9rem;
    }
    
    /* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© */
    .schedule-section {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 25px;
    }
    
    .section-header {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    .section-title {
      font-size: 1.3rem;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .section-actions {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .days-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;
    }
    
    .day-card {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      overflow: hidden;
      transition: var(--transition);
      border: 1px solid rgba(0, 0, 0, 0.08);
    }
    
    .day-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
    
    .day-header {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      padding: 12px 15px;
      color: white;
      font-weight: 700;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .day-actions {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    .day-action-btn {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .day-action-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }
    
    .day-content {
      padding: 15px;
    }
    
    .tasks-list {
      list-style: none;
      margin-bottom: 15px;
    }
    
    .task-item {
      padding: 10px 12px;
      margin-bottom: 8px;
      background: var(--light);
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: var(--transition);
      cursor: pointer;
      border-right: 3px solid transparent;
    }
    
    .task-item:hover {
      background: rgba(99, 102, 241, 0.05);
      border-right-color: var(--primary);
    }
    
    .task-item.completed {
      background: rgba(16, 185, 129, 0.1);
      text-decoration: line-through;
      opacity: 0.7;
    }
    
    .task-item.vacation {
      background: rgba(245, 158, 11, 0.1);
    }
    
    .task-text {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .task-actions {
      display: flex;
      gap: 5px;
      opacity: 0;
      transition: var(--transition);
    }
    
    .task-item:hover .task-actions {
      opacity: 1;
    }
    
    .task-btn {
      background: none;
      border: none;
      color: var(--gray);
      cursor: pointer;
      font-size: 0.9rem;
      padding: 4px;
      border-radius: 4px;
      transition: var(--transition);
    }
    
    .task-btn:hover {
      background: rgba(0, 0, 0, 0.05);
    }
    
    .task-btn.edit:hover {
      color: var(--primary);
    }
    
    .task-btn.delete:hover {
      color: var(--danger);
    }
    
    .task-btn.vacation:hover {
      color: var(--warning);
    }
    
    .task-btn.link:hover {
      color: var(--info);
    }
    
    .add-task-form {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }
    
    .task-input {
      flex: 1;
      padding: 8px 12px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      font-family: inherit;
      background: var(--light);
      color: var(--dark);
    }
    
    .task-input:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    /* Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ */
    .profile-section {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 25px;
    }
    
    .profile-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .profile-avatar {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.8rem;
      font-weight: bold;
    }
    
    .profile-info h3 {
      font-size: 1.3rem;
      margin-bottom: 5px;
    }
    
    .profile-info p {
      color: var(--gray);
    }
    
    .profile-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 12px;
      margin-top: 15px;
    }
    
    .profile-stat {
      text-align: center;
      padding: 12px;
      background: var(--light);
      border-radius: var(--radius);
    }
    
    .profile-stat-value {
      font-size: 1.3rem;
      font-weight: bold;
      color: var(--primary);
    }
    
    .profile-stat-label {
      font-size: 0.8rem;
      color: var(--gray);
      margin-top: 5px;
    }
    
    /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
    .progress-container {
      margin-top: 15px;
    }
    
    .progress-bar {
      height: 8px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--success), #34d399);
      border-radius: 4px;
      transition: width 0.5s ease;
    }
    
    .progress-text {
      display: flex;
      justify-content: space-between;
      margin-top: 5px;
      font-size: 0.8rem;
      color: var(--gray);
    }
    
    /* Ø§Ù‚ØªØ¨Ø§Ø³ ØªØ­ÙÙŠØ²ÙŠ */
    .motivational-quote {
      text-align: center;
      padding: 12px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      border-radius: var(--radius);
      margin-bottom: 15px;
      font-style: italic;
    }
    
    /* Ù†ÙˆØ§ÙØ° Ù…Ù†Ø¨Ø«Ù‚Ø© */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
      padding: 15px;
    }
    
    .modal-content {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      animation: modalFadeIn 0.3s ease;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    @keyframes modalFadeIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    .modal-title {
      font-size: 1.2rem;
      color: var(--dark);
    }
    
    .close-modal {
      background: none;
      border: none;
      font-size: 1.3rem;
      cursor: pointer;
      color: var(--gray);
    }
    
    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 20px;
    }
    
    /* Ù…Ø¤Ù‚Øª Ø§Ù„Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ */
    .pomodoro-timer {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 25px;
      text-align: center;
    }
    
    .timer-display {
      font-size: 3rem;
      font-weight: 700;
      margin: 15px 0;
      color: var(--primary);
    }
    
    .timer-controls {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }
    
    .timer-type-selector {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }
    
    .timer-type-btn {
      padding: 6px 12px;
      border: none;
      border-radius: 20px;
      background: var(--light);
      color: var(--dark);
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.9rem;
    }
    
    .timer-type-btn.active {
      background: var(--primary);
      color: white;
    }
    
    /* Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
    .notes-section {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 25px;
    }
    
    .notes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    
    .note-card {
      background: var(--light);
      border-radius: var(--radius);
      padding: 15px;
      border-left: 4px solid var(--primary);
      transition: var(--transition);
    }
    
    .note-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
    
    .note-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
    }
    
    .note-date {
      font-size: 0.8rem;
      color: var(--gray);
    }
    
    .note-content {
      margin-bottom: 12px;
    }
    
    .note-actions {
      display: flex;
      gap: 8px;
    }
    
    /* Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø´Ù‡Ø±ÙŠ */
    .calendar-section {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 25px;
    }
    
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 3px;
    }
    
    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border-radius: 6px;
      background: var(--light);
      cursor: pointer;
      transition: var(--transition);
      padding: 3px;
      position: relative;
    }
    
    .calendar-day:hover {
      background: rgba(99, 102, 241, 0.1);
    }
    
    .calendar-day.current {
      background: var(--primary);
      color: white;
    }
    
    .calendar-day.has-tasks {
      border: 2px solid var(--success);
    }
    
    .day-number {
      font-weight: 700;
      font-size: 1rem;
    }
    
    .day-tasks {
      font-size: 0.7rem;
      text-align: center;
      margin-top: 3px;
    }
    
    /* Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª */
    .rewards-section {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 25px;
    }
    
    .badges-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    
    .badge-card {
      background: var(--light);
      border-radius: var(--radius);
      padding: 15px;
      text-align: center;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    
    .badge-card.earned {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      transform: scale(1.05);
    }
    
    .badge-card.locked {
      opacity: 0.6;
      filter: grayscale(1);
    }
    
    .badge-icon {
      font-size: 2.2rem;
      margin-bottom: 8px;
    }
    
    .badge-name {
      font-weight: 700;
      margin-bottom: 5px;
      font-size: 0.9rem;
    }
    
    .badge-desc {
      font-size: 0.8rem;
      opacity: 0.8;
    }
    
    .badge-progress {
      margin-top: 8px;
      height: 4px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 2px;
      overflow: hidden;
    }
    
    .badge-progress-bar {
      height: 100%;
      background: var(--success);
      border-radius: 2px;
      transition: width 0.5s ease;
    }
    
    /* Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· */
    .link-page {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 25px;
    }
    
    .link-form {
      max-width: 600px;
      margin: 0 auto;
    }
    
    .link-preview {
      margin-top: 15px;
      padding: 12px;
      background: var(--light);
      border-radius: var(--radius);
      border: 1px dashed var(--gray);
    }
    
    .link-actions {
      display: flex;
      gap: 8px;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    
    .saved-links {
      margin-top: 25px;
    }
    
    /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ© */
    .search-filter-bar {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .search-box {
      flex: 1;
      position: relative;
    }
    
    .search-input {
      width: 100%;
      padding: 10px 40px 10px 12px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: var(--radius);
      font-family: inherit;
      background: var(--light);
      color: var(--dark);
      transition: var(--transition);
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }
    
    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }
    
    .filter-select {
      padding: 10px 12px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: var(--radius);
      font-family: inherit;
      background: var(--light);
      color: var(--dark);
      width: 100%;
    }
    
    /* ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² */
    .focus-mode {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      z-index: 2000;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      padding: 20px;
      text-align: center;
    }
    
    .focus-mode.active {
      display: flex;
    }
    
    .focus-task {
      font-size: 1.5rem;
      margin-bottom: 20px;
      max-width: 90%;
    }
    
    .focus-timer {
      font-size: 4rem;
      margin-bottom: 20px;
      color: white;
      font-weight: 700;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }
    
    .focus-controls {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª */
    .priority-indicator {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      margin-left: 5px;
    }
    
    .priority-high {
      background: var(--danger);
    }
    
    .priority-medium {
      background: var(--warning);
    }
    
    .priority-low {
      background: var(--success);
    }
    
    /* ØªØ®ØµÙŠØµ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ø© */
    .task-status {
      display: flex;
      gap: 8px;
      margin-top: 8px;
      flex-wrap: wrap;
    }
    
    .status-btn {
      padding: 5px 10px;
      border: none;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .status-btn.active {
      transform: scale(1.05);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    
    .status-completed {
      background: rgba(16, 185, 129, 0.2);
      color: var(--success);
    }
    
    .status-pending {
      background: rgba(239, 68, 68, 0.2);
      color: var(--danger);
    }
    
    .status-vacation {
      background: rgba(245, 158, 11, 0.2);
      color: var(--warning);
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„ØªÙ‚ÙˆÙŠÙ… */
    .calendar-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .calendar-month-year {
      font-size: 1.2rem;
      font-weight: bold;
      color: var(--dark);
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© ÙˆØ§Ù„ÙƒØ¨ÙŠØ±Ø© */
    @media (min-width: 768px) {
      .app-container.active {
        flex-direction: row;
      }
      
      .sidebar {
        width: 250px;
        height: 100vh;
        position: sticky;
        top: 0;
      }
      
      .sidebar-menu {
        flex-direction: column;
        overflow-x: visible;
        overflow-y: auto;
        padding-bottom: 0;
      }
      
      .sidebar-menu li {
        margin-bottom: 5px;
      }
      
      .sidebar-toggle {
        display: none;
      }
      
      .header {
        padding: 20px 30px;
        flex-direction: row;
        justify-content: space-between;
      }
      
      .header-top {
        flex-direction: row;
      }
      
      .search-filter-bar {
        flex-direction: row;
      }
      
      .search-box {
        min-width: 250px;
      }
      
      .filter-select {
        width: auto;
        min-width: 150px;
      }
      
      .section-header {
        flex-direction: row;
        align-items: center;
      }
      
      .focus-task {
        font-size: 2rem;
      }
      
      .focus-timer {
        font-size: 6rem;
      }
    }
    
    @media (min-width: 992px) {
      .sidebar {
        width: 280px;
      }
      
      .header h1 {
        font-size: 1.8rem;
      }
      
      .timer-display {
        font-size: 4rem;
      }
    }
  </style>
</head>
<body>
  <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
  <div id="loadingScreen" class="loading-screen">
    <div class="loading-logo">
      <i class="fas fa-graduation-cap"></i>
    </div>
    <div class="loading-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø°ÙƒÙŠ...</div>
    <div class="loading-bar">
      <div class="loading-progress" id="loadingProgress"></div>
    </div>
  </div>

  <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <div id="authSection" class="auth-container">
    <div class="auth-box">
      <div class="auth-logo">
        <i class="fas fa-graduation-cap"></i>
      </div>
      <h2 class="auth-title">Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø°ÙƒÙŠ</h2>
      
      <div class="auth-tabs">
        <button class="auth-tab active" onclick="showAuthForm('login')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        <button class="auth-tab" onclick="showAuthForm('register')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
      </div>
      
      <form id="loginForm" class="auth-form active" onsubmit="handleLogin(event)">
        <div class="form-group">
          <input type="email" class="form-control" id="loginEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
        </div>
        <div class="form-group">
          <input type="password" class="form-control" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">
          <i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        </button>
      </form>
      
      <form id="registerForm" class="auth-form" onsubmit="handleRegister(event)">
        <div class="form-group">
          <input type="text" class="form-control" id="registerName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
        </div>
        <div class="form-group">
          <input type="email" class="form-control" id="registerEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
        </div>
        <div class="form-group">
          <input type="password" class="form-control" id="registerPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required minlength="6">
        </div>
        <div class="form-group">
          <input type="password" class="form-control" id="registerConfirmPassword" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">
          <i class="fas fa-user-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
        </button>
      </form>
      
      <div class="auth-footer">
        <p>Ø¨Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#" class="auth-link">Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©</a> Ùˆ <a href="#" class="auth-link">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></p>
      </div>
    </div>
  </div>

  <!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Ø³ÙŠØªÙ… Ø¥Ø¸Ù‡Ø§Ø±Ù‡ Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„) -->
  <div id="appContainer" class="app-container">
    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
    <div class="sidebar">
      <div class="sidebar-header">
        <h2><i class="fas fa-graduation-cap"></i> Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</h2>
        <button class="sidebar-toggle" id="sidebarToggle">
          <i class="fas fa-bars"></i>
        </button>
      </div>
      <ul class="sidebar-menu">
        <li><a href="#" class="active" onclick="showSection('home')"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
        <li><a href="#" onclick="showSection('schedule')"><i class="fas fa-calendar-alt"></i> Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</a></li>
        <li><a href="#" onclick="showSection('pomodoro')"><i class="fas fa-clock"></i> Ù…Ø¤Ù‚Øª Ø§Ù„Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ</a></li>
        <li><a href="#" onclick="showSection('notes')"><i class="fas fa-sticky-note"></i> Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</a></li>
        <li><a href="#" onclick="showSection('calendar')"><i class="fas fa-calendar"></i> Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</a></li>
        <li><a href="#" onclick="showSection('rewards')"><i class="fas fa-trophy"></i> Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª</a></li>
        <li><a href="#" onclick="showSection('resources')"><i class="fas fa-link"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</a></li>
        <li><a href="#" onclick="showSection('profile')"><i class="fas fa-user"></i> Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a></li>
        <li><a href="#" onclick="showSection('stats')"><i class="fas fa-chart-line"></i> Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</a></li>
        <li><a href="#" onclick="showSection('settings')"><i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
      </ul>
      <div class="sidebar-footer">
        <button class="theme-toggle" id="themeToggle">
          <i class="fas fa-moon"></i>
        </button>
        <div class="user-info">
          <span id="userName">Ø·Ø§Ù„Ø¨ Ø¹Ù„Ù…ÙŠ</span>
        </div>
      </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-content">
      <div class="header">
        <div class="header-top">
          <h1><i class="fas fa-book-open"></i> Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø°ÙƒÙŠ</h1>
          <div class="user-actions">
            <div class="user-menu">
              <div class="user-profile" onclick="toggleUserDropdown()">
                <div class="user-avatar" id="userAvatar">Ù…</div>
                <span id="headerUserName">Ù…Ø­Ù…Ø¯</span>
                <i class="fas fa-chevron-down"></i>
              </div>
              <div class="user-dropdown" id="userDropdown">
                <button class="user-dropdown-item" onclick="showSection('profile')">
                  <i class="fas fa-user"></i> Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
                </button>
                <button class="user-dropdown-item" onclick="showSection('settings')">
                  <i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                </button>
                <button class="user-dropdown-item logout" onclick="logout()">
                  <i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="header-actions">
          <button class="btn btn-primary" onclick="saveProgress()">
            <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø¯Ù…
          </button>
          <button class="btn btn-success" onclick="openAddTaskModal()">
            <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©
          </button>
          <button class="btn btn-warning" onclick="toggleFocusMode()">
            <i class="fas fa-bullseye"></i> ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ²
          </button>
        </div>
      </div>

      <div class="content">
        <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div id="home-section" class="section active">
          <div class="motivational-quote" id="motivationalQuote">
            <i class="fas fa-quote-left"></i> Ø§Ù„Ù†Ø¬Ø§Ø­ Ù‡Ùˆ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¬Ù‡ÙˆØ¯ Ø§Ù„ØµØºÙŠØ±Ø© Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹ <i class="fas fa-quote-right"></i>
          </div>
          
          <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ© -->
          <div class="search-filter-bar">
            <div class="search-box">
              <i class="fas fa-search search-icon"></i>
              <input type="text" class="search-input" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…..." oninput="filterTasks(this.value)">
            </div>
            <select class="filter-select" onchange="filterTasksByStatus(this.value)">
              <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…</option>
              <option value="completed">Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙ‚Ø·</option>
              <option value="pending">Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© ÙÙ‚Ø·</option>
              <option value="vacation">ÙÙŠ Ø¥Ø¬Ø§Ø²Ø©</option>
              <option value="with-links">ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±ÙˆØ§Ø¨Ø·</option>
            </select>
          </div>
          
          <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
          <div class="dashboard">
            <div class="stat-card">
              <div class="stat-icon primary">
                <i class="fas fa-tasks"></i>
              </div>
              <div class="stat-info">
                <h3 id="completedTasks">0</h3>
                <p>Ù…Ù‡Ù…Ø© Ù…ÙƒØªÙ…Ù„Ø©</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon success">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="stat-info">
                <h3 id="totalTasks">35</h3>
                <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon warning">
                <i class="fas fa-chart-pie"></i>
              </div>
              <div class="stat-info">
                <h3 id="progressPercent">0%</h3>
                <p>Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon danger">
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-info">
                <h3 id="remainingTasks">35</h3>
                <p>Ù…Ù‡Ù…Ø© Ù…ØªØ¨Ù‚ÙŠØ©</p>
              </div>
            </div>
          </div>

          <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØµØºØ± -->
          <div class="schedule-section">
            <div class="section-header">
              <h2 class="section-title"><i class="fas fa-calendar-week"></i> Ù†Ø¸Ø±Ø© Ø³Ø±ÙŠØ¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙˆÙ„</h2>
              <button class="btn btn-primary" onclick="showSection('schedule')">
                <i class="fas fa-external-link-alt"></i> Ø¹Ø±Ø¶ ÙƒØ§Ù…Ù„
              </button>
            </div>

            <div class="progress-container">
              <div class="progress-bar">
                <div class="progress-fill" id="progressBar" style="width: 0%"></div>
              </div>
              <div class="progress-text">
                <span>Ù„Ù… ØªØ¨Ø¯Ø£</span>
                <span id="progressText">0%</span>
              </div>
            </div>

            <div class="days-grid" id="miniScheduleContainer">
              <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ØµØºØ± Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„ÙƒØ§Ù…Ù„ -->
        <div id="schedule-section" class="section">
          <div class="schedule-section">
            <div class="section-header">
              <h2 class="section-title"><i class="fas fa-calendar-week"></i> Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</h2>
              <div class="section-actions">
                <button class="btn btn-warning" onclick="takeVacation()">
                  <i class="fas fa-umbrella-beach"></i> Ø¥Ø¬Ø§Ø²Ø©
                </button>
                <button class="btn btn-info" onclick="cancelVacation()">
                  <i class="fas fa-undo"></i> Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©
                </button>
                <button class="btn btn-danger" onclick="resetProgress()">
                  <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                </button>
              </div>
            </div>
            
            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ© -->
            <div class="search-filter-bar">
              <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…..." oninput="filterTasks(this.value)">
              </div>
              <select class="filter-select" onchange="filterTasksByStatus(this.value)">
                <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù…</option>
                <option value="completed">Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙ‚Ø·</option>
                <option value="pending">Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© ÙÙ‚Ø·</option>
                <option value="vacation">ÙÙŠ Ø¥Ø¬Ø§Ø²Ø©</option>
                <option value="with-links">ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±ÙˆØ§Ø¨Ø·</option>
              </select>
            </div>

            <div class="days-grid" id="scheduleContainer">
              <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ù…Ø¤Ù‚Øª Ø§Ù„Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ -->
        <div id="pomodoro-section" class="section">
          <div class="pomodoro-timer">
            <h2 class="section-title"><i class="fas fa-clock"></i> Ù…Ø¤Ù‚Øª Ø§Ù„Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ</h2>
            
            <div class="timer-type-selector">
              <button class="timer-type-btn active" id="workTimerBtn" onclick="setTimerType('work')">Ø¹Ù…Ù„ (25 Ø¯Ù‚ÙŠÙ‚Ø©)</button>
              <button class="timer-type-btn" id="breakTimerBtn" onclick="setTimerType('break')">Ø±Ø§Ø­Ø© (5 Ø¯Ù‚Ø§Ø¦Ù‚)</button>
              <button class="timer-type-btn" id="longBreakTimerBtn" onclick="setTimerType('longBreak')">Ø±Ø§Ø­Ø© Ø·ÙˆÙŠÙ„Ø© (15 Ø¯Ù‚ÙŠÙ‚Ø©)</button>
            </div>
            
            <div class="timer-display" id="timerDisplay">25:00</div>
            
            <div class="timer-controls">
              <button class="btn btn-primary" id="startTimerBtn" onclick="startTimer()">
                <i class="fas fa-play"></i> Ø¨Ø¯Ø¡
              </button>
              <button class="btn btn-warning" id="pauseTimerBtn" onclick="pauseTimer()" style="display: none;">
                <i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª
              </button>
              <button class="btn btn-danger" onclick="resetTimer()">
                <i class="fas fa-stop"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
              </button>
            </div>
            
            <div class="pomodoro-stats">
              <p>Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©: <span id="pomodoroSessions">0</span></p>
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
        <div id="notes-section" class="section">
          <div class="notes-section">
            <div class="section-header">
              <h2 class="section-title"><i class="fas fa-sticky-note"></i> Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©</h2>
              <button class="btn btn-primary" onclick="openAddNoteModal()">
                <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø©
              </button>
            </div>
            
            <div class="notes-grid" id="notesContainer">
              <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… -->
        <div id="calendar-section" class="section">
          <div class="calendar-section">
            <div class="section-header">
              <h2 class="section-title"><i class="fas fa-calendar"></i> Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø´Ù‡Ø±ÙŠ</h2>
              <div class="calendar-navigation">
                <button class="btn" onclick="changeMonth(-1)">
                  <i class="fas fa-chevron-right"></i> Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚
                </button>
                <h3 class="calendar-month-year" id="currentMonthYear">Ø´Ù‡Ø± Ø³Ù†Ø©</h3>
                <button class="btn" onclick="changeMonth(1)">
                  Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-chevron-left"></i>
                </button>
              </div>
            </div>
            
            <div class="calendar-grid" id="calendarGrid">
              <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª -->
        <div id="rewards-section" class="section">
          <div class="rewards-section">
            <div class="section-header">
              <h2 class="section-title"><i class="fas fa-trophy"></i> Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª</h2>
            </div>
            
            <div class="user-points">
              <h3>Ù†Ù‚Ø§Ø·Ùƒ: <span id="userPoints">0</span> Ù†Ù‚Ø·Ø©</h3>
              <div class="progress-container">
                <div class="progress-bar">
                  <div class="progress-fill" id="pointsProgress" style="width: 0%"></div>
                </div>
                <div class="progress-text">
                  <span>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ</span>
                  <span id="userLevel">1</span>
                </div>
              </div>
            </div>
            
            <h3 style="margin: 20px 0;">Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø´Ø§Ø±Ø§Øª</h3>
            <div class="badges-grid" id="badgesContainer">
              <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø±Ø§Øª Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· -->
        <div id="resources-section" class="section">
          <div class="link-page">
            <div class="section-header">
              <h2 class="section-title"><i class="fas fa-link"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©</h2>
            </div>
            
            <div class="link-form">
              <div class="form-group">
                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø·:</label>
                <input type="text" class="form-control" id="linkName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø·...">
              </div>
              <div class="form-group">
                <label class="form-label">Ø§Ù„Ø±Ø§Ø¨Ø·:</label>
                <input type="url" class="form-control" id="linkUrl" placeholder="https://example.com" oninput="updateLinkPreview()">
              </div>
              <div class="form-group">
                <label class="form-label">ÙˆØµÙ Ø§Ù„Ø±Ø§Ø¨Ø· (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                <textarea class="form-control" id="linkDescription" rows="3" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙØ§Ù‹ Ù„Ù„Ø±Ø§Ø¨Ø·..." oninput="updateLinkPreview()"></textarea>
              </div>
              
              <div class="link-actions">
                <button class="btn btn-primary" onclick="addLink()">
                  <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø§Ø¨Ø·
                </button>
                <button class="btn" onclick="clearLinkForm()">
                  <i class="fas fa-times"></i> Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                </button>
              </div>
              
              <div class="link-preview" id="linkPreview" style="display: none;">
                <h4>Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø±Ø§Ø¨Ø·:</h4>
                <div id="previewContent"></div>
              </div>
            </div>
            
            <div class="saved-links" style="margin-top: 30px;">
              <h3 class="section-title"><i class="fas fa-list"></i> Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h3>
              <div id="linksList">
                <!-- Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù‡Ù†Ø§ -->
              </div>
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
        <div id="profile-section" class="section">
          <div class="profile-section">
            <div class="profile-header">
              <div class="profile-avatar" id="profileAvatar">Ù…</div>
              <div class="profile-info">
                <h3 id="profileName">Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯</h3>
                <p id="profileEmail">mohamed@example.com</p>
                <p>Ø·Ø§Ù„Ø¨ ÙÙŠ Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ - Ø¹Ù„Ù…ÙŠ</p>
              </div>
            </div>
            
            <div class="profile-stats">
              <div class="profile-stat">
                <div class="profile-stat-value" id="profileTasksCompleted">0</div>
                <div class="profile-stat-label">Ù…Ù‡Ù…Ø© Ù…ÙƒØªÙ…Ù„Ø©</div>
              </div>
              <div class="profile-stat">
                <div class="profile-stat-value" id="profileStreak">0</div>
                <div class="profile-stat-label">Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©</div>
              </div>
              <div class="profile-stat">
                <div class="profile-stat-value" id="profileLevel">1</div>
                <div class="profile-stat-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</div>
              </div>
              <div class="profile-stat">
                <div class="profile-stat-value" id="profilePoints">0</div>
                <div class="profile-stat-label">Ø§Ù„Ù†Ù‚Ø§Ø·</div>
              </div>
            </div>
            
            <div class="section-header" style="margin-top: 30px;">
              <h2 class="section-title"><i class="fas fa-chart-bar"></i> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡</h2>
            </div>
            
            <div class="dashboard">
              <div class="stat-card">
                <div class="stat-icon primary">
                  <i class="fas fa-fire"></i>
                </div>
                <div class="stat-info">
                  <h3 id="profilePomodoroSessions">0</h3>
                  <p>Ø¬Ù„Ø³Ø§Øª Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon success">
                  <i class="fas fa-sticky-note"></i>
                </div>
                <div class="stat-info">
                  <h3 id="profileNotesCount">0</h3>
                  <p>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon warning">
                  <i class="fas fa-link"></i>
                </div>
                <div class="stat-info">
                  <h3 id="profileLinksCount">0</h3>
                  <p>Ø±ÙˆØ§Ø¨Ø· Ù…Ø­ÙÙˆØ¸Ø©</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon danger">
                  <i class="fas fa-calendar-check"></i>
                </div>
                <div class="stat-info">
                  <h3 id="profileStudyDays">0</h3>
                  <p>Ø£ÙŠØ§Ù… Ù…Ø°Ø§ÙƒØ±Ø©</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div id="stats-section" class="section">
          <div class="schedule-section">
            <div class="section-header">
              <h2 class="section-title"><i class="fas fa-chart-line"></i> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡</h2>
            </div>
            
            <div class="stats-content">
              <div class="dashboard">
                <div class="stat-card">
                  <div class="stat-icon primary">
                    <i class="fas fa-fire"></i>
                  </div>
                  <div class="stat-info">
                    <h3 id="streakDays">0</h3>
                    <p>Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</p>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon success">
                    <i class="fas fa-bolt"></i>
                  </div>
                  <div class="stat-info">
                    <h3 id="weeklyCompleted">0</h3>
                    <p>Ù…Ù‡Ø§Ù… Ù…ÙƒØªÙ…Ù„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</p>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon warning">
                    <i class="fas fa-trophy"></i>
                  </div>
                  <div class="stat-info">
                    <h3 id="bestDay">Ù„Ø§ ÙŠÙˆØ¬Ø¯</h3>
                    <p>Ø£ÙƒØ«Ø± ÙŠÙˆÙ… Ø¥Ù†ØªØ§Ø¬ÙŠØ©</p>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon danger">
                    <i class="fas fa-hourglass-half"></i>
                  </div>
                  <div class="stat-info">
                    <h3 id="totalStudyTime">0</h3>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆÙ‚Øª Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© (Ø³Ø§Ø¹Ø©)</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
        <div id="settings-section" class="section">
          <div class="schedule-section">
            <div class="section-header">
              <h2 class="section-title"><i class="fas fa-cog"></i> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
            </div>
            
            <div class="settings-content">
              <div class="form-group">
                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label>
                <input type="text" class="form-control" id="settingsUserName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...">
              </div>
              
              <div class="form-group">
                <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                <input type="email" class="form-control" id="settingsUserEmail" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ...">
              </div>
              
              <div class="form-group">
                <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label>
                <input type="password" class="form-control" id="settingsUserPassword" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©...">
              </div>
              
              <div class="form-group">
                <label class="form-label">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                <input type="password" class="form-control" id="settingsUserConfirmPassword" placeholder="Ø£ÙƒØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©...">
              </div>
              
              <div class="form-group">
                <label class="form-label">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¤Ù‚Øª:</label>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                  <div>
                    <label>ÙˆÙ‚Øª Ø§Ù„Ø¹Ù…Ù„ (Ø¯Ù‚ÙŠÙ‚Ø©):</label>
                    <input type="number" class="form-control" id="workTime" value="25" min="5" max="60">
                  </div>
                  <div>
                    <label>ÙˆÙ‚Øª Ø§Ù„Ø±Ø§Ø­Ø© (Ø¯Ù‚ÙŠÙ‚Ø©):</label>
                    <input type="number" class="form-control" id="breakTime" value="5" min="1" max="30">
                  </div>
                  <div>
                    <label>ÙˆÙ‚Øª Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ø·ÙˆÙŠÙ„Ø© (Ø¯Ù‚ÙŠÙ‚Ø©):</label>
                    <input type="number" class="form-control" id="longBreakTime" value="15" min="5" max="60">
                  </div>
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</label>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                  <button class="btn btn-primary" onclick="exportUserData()">
                    <i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                  </button>
                  <button class="btn btn-success" onclick="document.getElementById('importFile').click()">
                    <i class="fas fa-upload"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                  </button>
                  <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importUserData(event)">
                  <button class="btn btn-danger" onclick="clearAllData()">
                    <i class="fas fa-trash"></i> Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                  </button>
                </div>
              </div>
              
              <div class="form-group">
                <button class="btn btn-success" onclick="saveSettings()">
                  <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© -->
  <div id="addTaskModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
        <button class="close-modal" onclick="closeAddTaskModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø©:</label>
          <input type="text" class="form-control" id="newTaskText" placeholder="Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø©...">
        </div>
        <div class="form-group">
          <label class="form-label">Ø§Ù„ÙŠÙˆÙ…:</label>
          <select class="form-control" id="newTaskDay">
            <option value="Ø§Ù„Ø³Ø¨Øª">Ø§Ù„Ø³Ø¨Øª</option>
            <option value="Ø§Ù„Ø£Ø­Ø¯">Ø§Ù„Ø£Ø­Ø¯</option>
            <option value="Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†">Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†</option>
            <option value="Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</option>
            <option value="Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</option>
            <option value="Ø§Ù„Ø®Ù…ÙŠØ³">Ø§Ù„Ø®Ù…ÙŠØ³</option>
            <option value="Ø§Ù„Ø¬Ù…Ø¹Ø©">Ø§Ù„Ø¬Ù…Ø¹Ø©</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©:</label>
          <select class="form-control" id="newTaskPriority">
            <option value="low">Ù…Ù†Ø®ÙØ¶Ø©</option>
            <option value="medium">Ù…ØªÙˆØ³Ø·Ø©</option>
            <option value="high">Ø¹Ø§Ù„ÙŠØ©</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
          <textarea class="form-control" id="newTaskNotes" rows="3" placeholder="Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù…Ù‡Ù…Ø©..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
          <input type="url" class="form-control" id="newTaskLink" placeholder="https://example.com">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="addNewTask()">
          <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø©
        </button>
        <button class="btn" onclick="closeAddTaskModal()">
          <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
        </button>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ù…Ù‡Ù…Ø© -->
  <div id="editTaskModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‡Ù…Ø©</h3>
        <button class="close-modal" onclick="closeEditTaskModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø©:</label>
          <input type="text" class="form-control" id="editTaskText" placeholder="Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø©...">
        </div>
        <div class="form-group">
          <label class="form-label">Ø§Ù„ÙŠÙˆÙ…:</label>
          <select class="form-control" id="editTaskDay">
            <option value="Ø§Ù„Ø³Ø¨Øª">Ø§Ù„Ø³Ø¨Øª</option>
            <option value="Ø§Ù„Ø£Ø­Ø¯">Ø§Ù„Ø£Ø­Ø¯</option>
            <option value="Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†">Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†</option>
            <option value="Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</option>
            <option value="Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</option>
            <option value="Ø§Ù„Ø®Ù…ÙŠØ³">Ø§Ù„Ø®Ù…ÙŠØ³</option>
            <option value="Ø§Ù„Ø¬Ù…Ø¹Ø©">Ø§Ù„Ø¬Ù…Ø¹Ø©</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©:</label>
          <select class="form-control" id="editTaskPriority">
            <option value="low">Ù…Ù†Ø®ÙØ¶Ø©</option>
            <option value="medium">Ù…ØªÙˆØ³Ø·Ø©</option>
            <option value="high">Ø¹Ø§Ù„ÙŠØ©</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:</label>
          <textarea class="form-control" id="editTaskNotes" rows="3" placeholder="Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù…Ù‡Ù…Ø©..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ:</label>
          <input type="url" class="form-control" id="editTaskLink" placeholder="https://example.com">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="saveTaskChanges()">
          <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
        </button>
        <button class="btn" onclick="closeEditTaskModal()">
          <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
        </button>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© -->
  <div id="addNoteModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
        <button class="close-modal" onclick="closeAddNoteModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©:</label>
          <input type="text" class="form-control" id="newNoteTitle" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©...">
        </div>
        <div class="form-group">
          <label class="form-label">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©:</label>
          <textarea class="form-control" id="newNoteContent" rows="5" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©..."></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="addNewNote()">
          <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©
        </button>
        <button class="btn" onclick="closeAddNoteModal()">
          <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
        </button>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø¹Ø±Ø¶ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø© -->
  <div id="taskNotesModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø©</h3>
        <button class="close-modal" onclick="closeTaskNotesModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div id="taskNotesContent">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù‡Ù†Ø§ -->
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn" onclick="closeTaskNotesModal()">
          <i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚
        </button>
      </div>
    </div>
  </div>

  <!-- ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² -->
  <div id="focusMode" class="focus-mode">
    <div class="focus-task" id="focusTask">Ø§Ø®ØªØ± Ù…Ù‡Ù…Ø© Ù„Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„ÙŠÙ‡Ø§</div>
    <div class="focus-timer" id="focusTimer">60:00</div>
    <div class="focus-controls">
      <button class="btn btn-success" onclick="startFocusTimer()">
        <i class="fas fa-play"></i> Ø¨Ø¯Ø¡
      </button>
      <button class="btn btn-warning" onclick="pauseFocusTimer()">
        <i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù
      </button>
      <button class="btn btn-danger" onclick="toggleFocusMode()">
        <i class="fas fa-times"></i> Ø®Ø±ÙˆØ¬
      </button>
    </div>
  </div>

  <script>
    // ========== Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ==========
    let currentUser = null;
    let tasks = [];
    let notes = [];
    let links = [];
    let pomodoroSessions = 0;
    let userPoints = 0;
    let streakDays = 0;
    let studyDays = new Set();
    let completedTasksCount = 0;
    
    // Ù…Ø¤Ù‚Øª Ø§Ù„Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ
    let timerInterval;
    let timerMinutes = 25;
    let timerSeconds = 0;
    let timerRunning = false;
    let timerType = 'work'; // work, break, longBreak
    
    // Ù…Ø¤Ù‚Øª Ø§Ù„ØªØ±ÙƒÙŠØ²
    let focusTimerInterval;
    let focusMinutes = 60;
    let focusSeconds = 0;
    let focusTimerRunning = false;
    let currentFocusTask = null;
    
    // Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
    let currentDate = new Date();
    let currentMonth = currentDate.getMonth();
    let currentYear = currentDate.getFullYear();
    
    // Ù…Ù‡Ù…Ø© Ù‚ÙŠØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
    let editingTaskId = null;
    
    // ========== Ù†Ø¸Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (IndexedDB) ==========
    const DB_NAME = 'StudySystemDB';
    const DB_VERSION = 1;
    let db;

    // ÙØªØ­ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    function openDatabase() {
        return new Promise((resolve, reject) => {
            const request = indexedDB.open(DB_NAME, DB_VERSION);
            
            request.onerror = () => reject(request.error);
            request.onsuccess = () => {
                db = request.result;
                resolve(db);
            };
            
            request.onupgradeneeded = (event) => {
                const db = event.target.result;
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø®Ø²Ù† Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
                if (!db.objectStoreNames.contains('users')) {
                    const userStore = db.createObjectStore('users', { keyPath: 'email' });
                    userStore.createIndex('name', 'name', { unique: false });
                }
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø®Ø²Ù† Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                if (!db.objectStoreNames.contains('userData')) {
                    const dataStore = db.createObjectStore('userData', { keyPath: 'userId' });
                    dataStore.createIndex('lastSync', 'lastSync', { unique: false });
                }
            };
        });
    }

    // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    async function saveUserData() {
        if (!db) await openDatabase();
        
        const userData = {
            tasks: tasks,
            notes: notes,
            links: links,
            pomodoroSessions: pomodoroSessions,
            userPoints: userPoints,
            streakDays: streakDays,
            studyDays: Array.from(studyDays),
            completedTasksCount: completedTasksCount,
            lastSync: new Date().toISOString()
        };
        
        return new Promise((resolve, reject) => {
            const transaction = db.transaction(['userData'], 'readwrite');
            const store = transaction.objectStore('userData');
            
            const data = {
                userId: currentUser,
                ...userData
            };
            
            const request = store.put(data);
            
            request.onsuccess = () => {
                console.log('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                resolve(request.result);
            };
            request.onerror = () => reject(request.error);
        });
    }

    // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    async function loadUserData() {
        if (!db) await openDatabase();
        
        return new Promise((resolve, reject) => {
            const transaction = db.transaction(['userData'], 'readonly');
            const store = transaction.objectStore('userData');
            const request = store.get(currentUser);
            
            request.onsuccess = () => {
                const userData = request.result || {};
                resolve(userData);
            };
            request.onerror = () => reject(request.error);
        });
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ==========
    async function handleLogin(event) {
        event.preventDefault();
        
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        
        if (!db) await openDatabase();
        
        try {
            const transaction = db.transaction(['users'], 'readonly');
            const store = transaction.objectStore('users');
            const request = store.get(email);
            
            request.onsuccess = () => {
                const user = request.result;
                
                if (user && user.password === password) {
                    currentUser = email;
                    showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    
                    // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                    localStorage.setItem('currentUser', email);
                    
                    // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    loadUserData().then(userData => {
                        if (userData.tasks) tasks = userData.tasks;
                        if (userData.notes) notes = userData.notes;
                        if (userData.links) links = userData.links;
                        if (userData.pomodoroSessions) pomodoroSessions = userData.pomodoroSessions;
                        if (userData.userPoints) userPoints = userData.userPoints;
                        if (userData.streakDays) streakDays = userData.streakDays;
                        if (userData.studyDays) studyDays = new Set(userData.studyDays);
                        if (userData.completedTasksCount) completedTasksCount = userData.completedTasksCount;
                        
                        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                        updateUserInfo(user);
                        initializeApp();
                        
                        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚
                        setTimeout(() => {
                            document.getElementById('authSection').style.display = 'none';
                            document.getElementById('appContainer').classList.add('active');
                        }, 1000);
                    });
                } else {
                    showNotification('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!', 'error');
                }
            };
        } catch (error) {
            showNotification('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ' + error.message, 'error');
        }
    }

    async function handleRegister(event) {
        event.preventDefault();
        
        const name = document.getElementById('registerName').value;
        const email = document.getElementById('registerEmail').value;
        const password = document.getElementById('registerPassword').value;
        const confirmPassword = document.getElementById('registerConfirmPassword').value;
        
        if (password !== confirmPassword) {
            showNotification('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©!', 'error');
            return;
        }
        
        if (!db) await openDatabase();
        
        try {
            const transaction = db.transaction(['users'], 'readwrite');
            const store = transaction.objectStore('users');
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const checkRequest = store.get(email);
            
            checkRequest.onsuccess = () => {
                if (checkRequest.result) {
                    showNotification('Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙØ¹Ù„!', 'error');
                    return;
                }
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
                const user = {
                    email: email,
                    name: name,
                    password: password,
                    createdAt: new Date().toISOString()
                };
                
                const addRequest = store.add(user);
                
                addRequest.onsuccess = () => {
                    currentUser = email;
                    
                    // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                    localStorage.setItem('currentUser', email);
                    
                    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
                    initializeDefaultData();
                    
                    showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    showAuthForm('login');
                };
            };
        } catch (error) {
            showNotification('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨: ' + error.message, 'error');
        }
    }

    function logout() {
        currentUser = null;
        tasks = [];
        notes = [];
        links = [];
        
        // Ø­Ø°Ù Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        localStorage.removeItem('currentUser');
        
        document.getElementById('appContainer').classList.remove('active');
        document.getElementById('authSection').style.display = 'flex';
        showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
    }

    // ========== Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ==========
    function showAuthForm(formType) {
        document.querySelectorAll('.auth-form').forEach(form => {
            form.classList.remove('active');
        });
        document.querySelectorAll('.auth-tab').forEach(tab => {
            tab.classList.remove('active');
        });
        
        if (formType === 'login') {
            document.getElementById('loginForm').classList.add('active');
            document.querySelectorAll('.auth-tab')[0].classList.add('active');
        } else {
            document.getElementById('registerForm').classList.add('active');
            document.querySelectorAll('.auth-tab')[1].classList.add('active');
        }
    }

    function showSection(sectionId) {
        document.querySelectorAll('.section').forEach(section => {
            section.classList.remove('active');
        });
        document.querySelectorAll('.sidebar-menu a').forEach(link => {
            link.classList.remove('active');
        });
        
        document.getElementById(sectionId + '-section').classList.add('active');
        event.target.classList.add('active');
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø³Ù…
        switch(sectionId) {
            case 'home':
                updateDashboard();
                renderMiniSchedule();
                break;
            case 'schedule':
                renderSchedule();
                break;
            case 'notes':
                renderNotes();
                break;
            case 'calendar':
                renderCalendar();
                break;
            case 'rewards':
                updateRewards();
                break;
            case 'resources':
                renderLinks();
                break;
            case 'profile':
                updateProfile();
                break;
            case 'stats':
                updateStats();
                break;
        }
    }

    function updateUserInfo(user) {
        const userName = user.name || 'Ù…Ø³ØªØ®Ø¯Ù…';
        document.getElementById('userName').textContent = userName;
        document.getElementById('headerUserName').textContent = userName;
        document.getElementById('userAvatar').textContent = userName.charAt(0);
        document.getElementById('profileAvatar').textContent = userName.charAt(0);
        document.getElementById('profileName').textContent = userName;
        document.getElementById('profileEmail').textContent = currentUser;
    }

    function initializeApp() {
        updateDashboard();
        renderSchedule();
        renderMiniSchedule();
        renderNotes();
        updateProfile();
        updateRewards();
        renderLinks();
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
        renderCalendar();
        
        // ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø¯Ø§Ø±Ùƒ Ù…ÙˆØ¯
        loadDarkMode();
    }

    function initializeDefaultData() {
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
        tasks = [
            { id: 1, text: 'Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª - Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„', day: 'Ø§Ù„Ø³Ø¨Øª', completed: false, priority: 'high' },
            { id: 2, text: 'Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡', day: 'Ø§Ù„Ø³Ø¨Øª', completed: false, priority: 'medium' },
            { id: 3, text: 'Ø¯Ø±Ø§Ø³Ø© Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ - Ø§Ù„ØªÙØ§Ø¹Ù„Ø§Øª', day: 'Ø§Ù„Ø£Ø­Ø¯', completed: false, priority: 'high' },
            { id: 4, text: 'Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ - Ø§Ù„Ø®Ù„ÙŠØ©', day: 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', completed: false, priority: 'medium' }
        ];
        
        notes = [
            { id: 1, title: 'Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©', content: 'ØªØ°ÙƒØ± Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©', date: new Date().toISOString() }
        ];
        
        links = [
            { id: 1, name: 'Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª', url: 'https://www.khanacademy.org/math', description: 'Ø¯Ø±ÙˆØ³ Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù…Ø¬Ø§Ù†ÙŠØ©' }
        ];
        
        saveUserData();
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‡Ø§Ù… ==========
    function renderSchedule() {
        const scheduleContainer = document.getElementById('scheduleContainer');
        const days = ['Ø§Ù„Ø³Ø¨Øª', 'Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©'];
        
        scheduleContainer.innerHTML = '';
        
        days.forEach(day => {
            const dayTasks = tasks.filter(task => task.day === day);
            const completedCount = dayTasks.filter(task => task.completed).length;
            
            const dayCard = document.createElement('div');
            dayCard.className = 'day-card';
            dayCard.innerHTML = `
                <div class="day-header">
                    <span>${day}</span>
                    <div class="day-actions">
                        <span>${completedCount}/${dayTasks.length}</span>
                        <button class="day-action-btn" onclick="addQuickTask('${day}')">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
                <div class="day-content">
                    <ul class="tasks-list" id="tasks-${day}">
                        ${dayTasks.map(task => `
                            <li class="task-item ${task.completed ? 'completed' : ''} ${task.vacation ? 'vacation' : ''}" 
                                onclick="toggleTaskCompletion(${task.id})">
                                <div class="task-text">
                                    ${task.text}
                                    ${task.priority === 'high' ? '<span class="priority-indicator priority-high"></span>' : ''}
                                    ${task.priority === 'medium' ? '<span class="priority-indicator priority-medium"></span>' : ''}
                                    ${task.priority === 'low' ? '<span class="priority-indicator priority-low"></span>' : ''}
                                    ${task.link ? '<i class="fas fa-link" style="margin-right: 5px; color: var(--info);"></i>' : ''}
                                    ${task.notes ? '<i class="fas fa-sticky-note" style="margin-right: 5px; color: var(--warning);"></i>' : ''}
                                </div>
                                <div class="task-actions">
                                    ${task.link ? '<button class="task-btn link" onclick="openTaskLink(' + task.id + ', event)"><i class="fas fa-external-link-alt"></i></button>' : ''}
                                    ${task.notes ? '<button class="task-btn link" onclick="showTaskNotes(' + task.id + ', event)"><i class="fas fa-eye"></i></button>' : ''}
                                    <button class="task-btn edit" onclick="editTask(${task.id}, event)"><i class="fas fa-edit"></i></button>
                                    <button class="task-btn delete" onclick="deleteTask(${task.id}, event)"><i class="fas fa-trash"></i></button>
                                    <button class="task-btn vacation" onclick="toggleTaskVacation(${task.id}, event)">
                                        <i class="fas ${task.vacation ? 'fa-undo' : 'fa-umbrella-beach'}"></i>
                                    </button>
                                </div>
                            </li>
                        `).join('')}
                    </ul>
                    <div class="add-task-form">
                        <input type="text" class="task-input" id="quick-task-${day}" placeholder="Ø£Ø¶Ù Ù…Ù‡Ù…Ø© Ø³Ø±ÙŠØ¹Ø©...">
                        <button class="btn btn-primary" onclick="addTaskFromInput('${day}')">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            `;
            
            scheduleContainer.appendChild(dayCard);
        });
    }

    function renderMiniSchedule() {
        const miniContainer = document.getElementById('miniScheduleContainer');
        const days = ['Ø§Ù„Ø³Ø¨Øª', 'Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡'];
        
        miniContainer.innerHTML = '';
        
        days.forEach(day => {
            const dayTasks = tasks.filter(task => task.day === day);
            const completedCount = dayTasks.filter(task => task.completed).length;
            const progress = dayTasks.length > 0 ? (completedCount / dayTasks.length) * 100 : 0;
            
            const dayCard = document.createElement('div');
            dayCard.className = 'day-card';
            dayCard.innerHTML = `
                <div class="day-header">
                    <span>${day}</span>
                    <span>${completedCount}/${dayTasks.length}</span>
                </div>
                <div class="day-content">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${progress}%"></div>
                        </div>
                    </div>
                    <div style="margin-top: 10px; font-size: 0.9rem;">
                        ${dayTasks.slice(0, 2).map(task => `
                            <div style="display: flex; align-items: center; gap: 5px; margin-bottom: 5px;">
                                <input type="checkbox" ${task.completed ? 'checked' : ''} onchange="toggleTaskCompletion(${task.id})">
                                <span style="${task.completed ? 'text-decoration: line-through; opacity: 0.7;' : ''}">
                                    ${task.text.length > 20 ? task.text.substring(0, 20) + '...' : task.text}
                                </span>
                            </div>
                        `).join('')}
                        ${dayTasks.length > 2 ? `<div style="color: var(--gray); font-size: 0.8rem;">+${dayTasks.length - 2} Ù…Ù‡Ø§Ù… Ø£Ø®Ø±Ù‰</div>` : ''}
                    </div>
                </div>
            `;
            
            miniContainer.appendChild(dayCard);
        });
    }

    function addQuickTask(day) {
        const taskText = prompt(`Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù€ ${day}:`);
        if (taskText && taskText.trim()) {
            const newTask = {
                id: Date.now(),
                text: taskText.trim(),
                day: day,
                completed: false,
                priority: 'medium'
            };
            tasks.push(newTask);
            saveUserData().then(() => {
                renderSchedule();
                renderMiniSchedule();
                updateDashboard();
                showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            });
        }
    }

    function addTaskFromInput(day) {
        const input = document.getElementById(`quick-task-${day}`);
        const taskText = input.value.trim();
        
        if (taskText) {
            const newTask = {
                id: Date.now(),
                text: taskText,
                day: day,
                completed: false,
                priority: 'medium'
            };
            tasks.push(newTask);
            input.value = '';
            
            saveUserData().then(() => {
                renderSchedule();
                renderMiniSchedule();
                updateDashboard();
                showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            });
        }
    }

    function toggleTaskCompletion(taskId) {
        const task = tasks.find(t => t.id === taskId);
        if (task) {
            task.completed = !task.completed;
            
            if (task.completed) {
                completedTasksCount++;
                userPoints += 10;
                showNotification('Ø£Ø­Ø³Ù†Øª! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù…Ù‡Ù…Ø© ÙˆØ±Ø¨Ø­Øª 10 Ù†Ù‚Ø§Ø·', 'success');
                
                // ØªØ­Ø¯ÙŠØ« Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©
                const today = new Date().toISOString().split('T')[0];
                studyDays.add(today);
            } else {
                completedTasksCount--;
                userPoints = Math.max(0, userPoints - 5);
            }
            
            saveUserData().then(() => {
                renderSchedule();
                renderMiniSchedule();
                updateDashboard();
                updateRewards();
                updateProfile();
                renderCalendar();
            });
        }
    }

    function toggleTaskVacation(taskId, event) {
        event.stopPropagation();
        const task = tasks.find(t => t.id === taskId);
        if (task) {
            task.vacation = !task.vacation;
            saveUserData().then(() => {
                renderSchedule();
                showNotification(task.vacation ? 'ØªÙ… ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ù…Ù‡Ù…Ø©' : 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªØ¹Ù„ÙŠÙ‚ Ø§Ù„Ù…Ù‡Ù…Ø©', 'success');
            });
        }
    }

    function deleteTask(taskId, event) {
        event.stopPropagation();
        if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ')) {
            tasks = tasks.filter(t => t.id !== taskId);
            saveUserData().then(() => {
                renderSchedule();
                renderMiniSchedule();
                updateDashboard();
                showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            });
        }
    }

    function editTask(taskId, event) {
        event.stopPropagation();
        const task = tasks.find(t => t.id === taskId);
        if (task) {
            editingTaskId = taskId;
            document.getElementById('editTaskText').value = task.text;
            document.getElementById('editTaskDay').value = task.day;
            document.getElementById('editTaskPriority').value = task.priority;
            document.getElementById('editTaskNotes').value = task.notes || '';
            document.getElementById('editTaskLink').value = task.link || '';
            document.getElementById('editTaskModal').style.display = 'flex';
        }
    }

    function saveTaskChanges() {
        const task = tasks.find(t => t.id === editingTaskId);
        if (task) {
            task.text = document.getElementById('editTaskText').value.trim();
            task.day = document.getElementById('editTaskDay').value;
            task.priority = document.getElementById('editTaskPriority').value;
            task.notes = document.getElementById('editTaskNotes').value.trim();
            task.link = document.getElementById('editTaskLink').value.trim();
            
            saveUserData().then(() => {
                renderSchedule();
                renderMiniSchedule();
                closeEditTaskModal();
                showNotification('ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            });
        }
    }

    function openTaskLink(taskId, event) {
        event.stopPropagation();
        const task = tasks.find(t => t.id === taskId);
        if (task && task.link) {
            window.open(task.link, '_blank');
        }
    }

    function showTaskNotes(taskId, event) {
        event.stopPropagation();
        const task = tasks.find(t => t.id === taskId);
        if (task && task.notes) {
            document.getElementById('taskNotesContent').innerHTML = `
                <h4>${task.text}</h4>
                <p>${task.notes}</p>
            `;
            document.getElementById('taskNotesModal').style.display = 'flex';
        } else {
            showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø©', 'warning');
        }
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ==========
    function renderNotes() {
        const notesContainer = document.getElementById('notesContainer');
        notesContainer.innerHTML = '';
        
        if (notes.length === 0) {
            notesContainer.innerHTML = '<p style="text-align: center; color: var(--gray);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>';
            return;
        }
        
        notes.forEach(note => {
            const noteDate = new Date(note.date);
            const formattedDate = noteDate.toLocaleDateString('ar-SA');
            
            const noteCard = document.createElement('div');
            noteCard.className = 'note-card';
            noteCard.innerHTML = `
                <div class="note-header">
                    <h4>${note.title}</h4>
                    <span class="note-date">${formattedDate}</span>
                </div>
                <div class="note-content">
                    <p>${note.content}</p>
                </div>
                <div class="note-actions">
                    <button class="btn btn-danger" onclick="deleteNote(${note.id})">
                        <i class="fas fa-trash"></i> Ø­Ø°Ù
                    </button>
                </div>
            `;
            
            notesContainer.appendChild(noteCard);
        });
    }

    function deleteNote(noteId) {
        if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©ØŸ')) {
            notes = notes.filter(n => n.id !== noteId);
            saveUserData().then(() => {
                renderNotes();
                showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            });
        }
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ==========
    function renderCalendar() {
        const calendarGrid = document.getElementById('calendarGrid');
        const monthYearElement = document.getElementById('currentMonthYear');
        
        // ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø´Ù‡Ø± ÙˆØ§Ù„Ø³Ù†Ø©
        const monthNames = [
            'ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ',
            'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'
        ];
        
        monthYearElement.textContent = `${monthNames[currentMonth]} ${currentYear}`;
        
        // Ù…Ø³Ø­ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
        calendarGrid.innerHTML = '';
        
        // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
        const daysOfWeek = ['Ø£Ø­Ø¯', 'Ø§Ø«Ù†ÙŠÙ†', 'Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø®Ù…ÙŠØ³', 'Ø¬Ù…Ø¹Ø©', 'Ø³Ø¨Øª'];
        daysOfWeek.forEach(day => {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-day day-header';
            dayElement.textContent = day;
            calendarGrid.appendChild(dayElement);
        });
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙˆÙ„ ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ø´Ù‡Ø±
        const firstDay = new Date(currentYear, currentMonth, 1);
        const startingDay = firstDay.getDay(); // 0 = Ø§Ù„Ø£Ø­Ø¯
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… ÙÙŠ Ø§Ù„Ø´Ù‡Ø±
        const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
        
        // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… ÙØ§Ø±ØºØ© Ù‚Ø¨Ù„ Ø£ÙˆÙ„ ÙŠÙˆÙ…
        for (let i = 0; i < startingDay; i++) {
            const emptyDay = document.createElement('div');
            emptyDay.className = 'calendar-day empty';
            calendarGrid.appendChild(emptyDay);
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø±
        const today = new Date();
        const isCurrentMonth = currentMonth === today.getMonth() && currentYear === today.getFullYear();
        
        for (let day = 1; day <= daysInMonth; day++) {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-day';
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
            if (isCurrentMonth && day === today.getDate()) {
                dayElement.classList.add('current');
            }
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ÙŠÙˆÙ…
            const dayName = getDayNameForDate(currentYear, currentMonth, day);
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ù„ØªØ§Ø±ÙŠØ® Ù…Ù‡Ø§Ù…
            const dayTasks = tasks.filter(task => task.day === dayName);
            
            if (dayTasks.length > 0) {
                dayElement.classList.add('has-tasks');
            }
            
            const dayNumber = document.createElement('div');
            dayNumber.className = 'day-number';
            dayNumber.textContent = day;
            
            const dayTasksElement = document.createElement('div');
            dayTasksElement.className = 'day-tasks';
            
            if (dayTasks.length > 0) {
                dayTasksElement.textContent = `${dayTasks.length} Ù…Ù‡Ù…Ø©`;
            }
            
            dayElement.appendChild(dayNumber);
            dayElement.appendChild(dayTasksElement);
            
            // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ù„ÙØªØ­ Ø§Ù„Ù…Ù‡Ø§Ù… ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…
            dayElement.onclick = () => showTasksForDate(dayName, day);
            
            calendarGrid.appendChild(dayElement);
        }
    }

    function getDayNameForDate(year, month, day) {
        const date = new Date(year, month, day);
        const days = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
        return days[date.getDay()];
    }

    function changeMonth(direction) {
        currentMonth += direction;
        
        if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        } else if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        }
        
        renderCalendar();
    }

    function showTasksForDate(dayName, day) {
        const monthNames = [
            'ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ',
            'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'
        ];
        
        const dayTasks = tasks.filter(task => task.day === dayName);
        
        if (dayTasks.length > 0) {
            let tasksHtml = `<h3>Ø§Ù„Ù…Ù‡Ø§Ù… ÙÙŠ ${dayName} ${day} ${monthNames[currentMonth]} ${currentYear}</h3>`;
            tasksHtml += '<ul style="text-align: right; margin-top: 15px;">';
            
            dayTasks.forEach(task => {
                const statusIcon = task.completed ? 'âœ…' : 'â³';
                tasksHtml += `<li style="margin-bottom: 8px; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                    ${statusIcon} ${task.text}
                </li>`;
            });
            
            tasksHtml += '</ul>';
            
            showNotification(tasksHtml, 'info', 5000);
        } else {
            showNotification(`Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… ÙÙŠ ${dayName} ${day} ${monthNames[currentMonth]} ${currentYear}`, 'info');
        }
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª ==========
    function updateRewards() {
        document.getElementById('userPoints').textContent = userPoints;
        const userLevel = Math.floor(userPoints / 100) + 1;
        document.getElementById('userLevel').textContent = userLevel;
        document.getElementById('pointsProgress').style.width = (userPoints % 100) + '%';
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ø±Ø§Øª
        const badges = [
            { id: 1, name: 'Ø§Ù„Ù…Ø¨ØªØ¯Ø¦', desc: 'Ø£ÙƒÙ…Ù„ 5 Ù…Ù‡Ø§Ù…', icon: 'fas fa-seedling', earned: completedTasksCount >= 5 },
            { id: 2, name: 'Ù…Ù†ØªØ¬', desc: 'Ø£ÙƒÙ…Ù„ 20 Ù…Ù‡Ù…Ø©', icon: 'fas fa-bolt', earned: completedTasksCount >= 20 },
            { id: 3, name: 'Ù…Ø«Ø§Ø¨Ø±', desc: '3 Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©', icon: 'fas fa-fire', earned: streakDays >= 3 },
            { id: 4, name: 'Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ', desc: '10 Ø¬Ù„Ø³Ø§Øª Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ', icon: 'fas fa-clock', earned: pomodoroSessions >= 10 },
            { id: 5, name: 'Ø§Ù„Ù…Ù†Ø¸Ù…', desc: 'Ø£Ø¶Ù 5 Ù…Ù„Ø§Ø­Ø¸Ø§Øª', icon: 'fas fa-sticky-note', earned: notes.length >= 5 },
            { id: 6, name: 'Ø§Ù„Ø¨Ø§Ø­Ø«', desc: 'Ø£Ø¶Ù 3 Ø±ÙˆØ§Ø¨Ø·', icon: 'fas fa-link', earned: links.length >= 3 },
            { id: 7, name: 'Ø§Ù„Ù…Ù†ØªØ¬', desc: 'Ø£ÙƒÙ…Ù„ 50 Ù…Ù‡Ù…Ø©', icon: 'fas fa-rocket', earned: completedTasksCount >= 50 },
            { id: 8, name: 'Ø§Ù„Ù…Ø«Ø§Ø¨Ø±', desc: '7 Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©', icon: 'fas fa-crown', earned: streakDays >= 7 },
            { id: 9, name: 'Ø§Ù„Ù…ØªÙÙˆÙ‚', desc: 'Ø£ÙƒÙ…Ù„ 100 Ù…Ù‡Ù…Ø©', icon: 'fas fa-trophy', earned: completedTasksCount >= 100 },
            { id: 10, name: 'Ø§Ù„Ù…Ø¨Ø¯Ø¹', desc: 'Ø£Ø¶Ù 10 Ù…Ù„Ø§Ø­Ø¸Ø§Øª', icon: 'fas fa-lightbulb', earned: notes.length >= 10 },
            { id: 11, name: 'Ø§Ù„Ù…Ù†Ø¸Ù… Ø§Ù„Ù…ØªÙ…ÙŠØ²', desc: 'Ø£ÙƒÙ…Ù„ 5 Ø£ÙŠØ§Ù…', icon: 'fas fa-star', earned: studyDays.size >= 5 },
            { id: 12, name: 'Ø¨Ø·Ù„ Ø§Ù„Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ', desc: '25 Ø¬Ù„Ø³Ø© Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ', icon: 'fas fa-medal', earned: pomodoroSessions >= 25 }
        ];
        
        const badgesContainer = document.getElementById('badgesContainer');
        badgesContainer.innerHTML = badges.map(badge => `
            <div class="badge-card ${badge.earned ? 'earned' : 'locked'}">
                <div class="badge-icon">
                    <i class="${badge.icon}"></i>
                </div>
                <div class="badge-name">${badge.name}</div>
                <div class="badge-desc">${badge.desc}</div>
                ${!badge.earned ? `
                    <div class="badge-progress">
                        <div class="badge-progress-bar" style="width: 0%"></div>
                    </div>
                ` : ''}
            </div>
        `).join('');
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ ==========
    function setTimerType(type) {
        timerType = type;
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        document.querySelectorAll('.timer-type-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
        resetTimer();
        
        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
        switch(type) {
            case 'work':
                timerMinutes = parseInt(document.getElementById('workTime').value) || 25;
                document.getElementById('workTimerBtn').classList.add('active');
                break;
            case 'break':
                timerMinutes = parseInt(document.getElementById('breakTime').value) || 5;
                document.getElementById('breakTimerBtn').classList.add('active');
                break;
            case 'longBreak':
                timerMinutes = parseInt(document.getElementById('longBreakTime').value) || 15;
                document.getElementById('longBreakTimerBtn').classList.add('active');
                break;
        }
        
        updateTimerDisplay();
    }

    function startTimer() {
        if (!timerRunning) {
            timerRunning = true;
            timerInterval = setInterval(updateTimer, 1000);
            
            document.getElementById('startTimerBtn').style.display = 'none';
            document.getElementById('pauseTimerBtn').style.display = 'inline-block';
        }
    }

    function pauseTimer() {
        if (timerRunning) {
            timerRunning = false;
            clearInterval(timerInterval);
            
            document.getElementById('startTimerBtn').style.display = 'inline-block';
            document.getElementById('pauseTimerBtn').style.display = 'none';
        }
    }

    function resetTimer() {
        timerRunning = false;
        clearInterval(timerInterval);
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙˆÙ‚Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙˆØ¹
        switch(timerType) {
            case 'work':
                timerMinutes = parseInt(document.getElementById('workTime').value) || 25;
                break;
            case 'break':
                timerMinutes = parseInt(document.getElementById('breakTime').value) || 5;
                break;
            case 'longBreak':
                timerMinutes = parseInt(document.getElementById('longBreakTime').value) || 15;
                break;
        }
        timerSeconds = 0;
        
        updateTimerDisplay();
        
        document.getElementById('startTimerBtn').style.display = 'inline-block';
        document.getElementById('pauseTimerBtn').style.display = 'none';
    }

    function updateTimer() {
        if (timerSeconds === 0) {
            if (timerMinutes === 0) {
                // Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª
                timerComplete();
                return;
            }
            timerMinutes--;
            timerSeconds = 59;
        } else {
            timerSeconds--;
        }
        
        updateTimerDisplay();
    }

    function updateTimerDisplay() {
        const display = document.getElementById('timerDisplay');
        display.textContent = `${timerMinutes.toString().padStart(2, '0')}:${timerSeconds.toString().padStart(2, '0')}`;
    }

    function timerComplete() {
        clearInterval(timerInterval);
        timerRunning = false;
        
        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡
        playNotificationSound();
        
        // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ù„Ø³Ø§Øª
        if (timerType === 'work') {
            pomodoroSessions++;
            userPoints += 5;
            document.getElementById('pomodoroSessions').textContent = pomodoroSessions;
            showNotification('ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ø£ÙƒÙ…Ù„Øª Ø¬Ù„Ø³Ø© Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ ÙˆØ±Ø¨Ø­Øª 5 Ù†Ù‚Ø§Ø·', 'success');
        } else {
            showNotification('Ø§Ù†ØªÙ‡ ÙˆÙ‚Øª Ø§Ù„Ø±Ø§Ø­Ø©! Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¹Ù…Ù„', 'info');
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        saveUserData();
        updateRewards();
        updateProfile();
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        document.getElementById('startTimerBtn').style.display = 'inline-block';
        document.getElementById('pauseTimerBtn').style.display = 'none';
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ==========
    function renderLinks() {
        const linksList = document.getElementById('linksList');
        linksList.innerHTML = '';
        
        if (links.length === 0) {
            linksList.innerHTML = '<p style="text-align: center; color: var(--gray);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±ÙˆØ§Ø¨Ø· Ù…Ø­ÙÙˆØ¸Ø© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>';
            return;
        }
        
        links.forEach(link => {
            const linkElement = document.createElement('div');
            linkElement.className = 'task-item';
            linkElement.style.marginBottom = '10px';
            linkElement.innerHTML = `
                <div class="task-text">
                    <strong>${link.name}</strong>
                    <br>
                    <small style="color: var(--gray);">${link.description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ'}</small>
                </div>
                <div class="task-actions">
                    <button class="task-btn link" onclick="window.open('${link.url}', '_blank')">
                        <i class="fas fa-external-link-alt"></i>
                    </button>
                    <button class="task-btn delete" onclick="deleteLink(${link.id})">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `;
            
            linksList.appendChild(linkElement);
        });
    }

    function addLink() {
        const name = document.getElementById('linkName').value.trim();
        const url = document.getElementById('linkUrl').value.trim();
        const description = document.getElementById('linkDescription').value.trim();
        
        if (!name || !url) {
            showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ§Ù„Ø±Ø§Ø¨Ø·', 'error');
            return;
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø±Ø§Ø¨Ø·
        try {
            new URL(url);
        } catch (e) {
            showNotification('Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­', 'error');
            return;
        }
        
        const newLink = {
            id: Date.now(),
            name: name,
            url: url,
            description: description
        };
        
        links.push(newLink);
        
        saveUserData().then(() => {
            renderLinks();
            clearLinkForm();
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­', 'success');
            updateProfile();
        });
    }

    function deleteLink(linkId) {
        if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø·ØŸ')) {
            links = links.filter(l => l.id !== linkId);
            saveUserData().then(() => {
                renderLinks();
                showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­', 'success');
                updateProfile();
            });
        }
    }

    function updateLinkPreview() {
        const name = document.getElementById('linkName').value.trim();
        const url = document.getElementById('linkUrl').value.trim();
        const description = document.getElementById('linkDescription').value.trim();
        
        if (name || url) {
            document.getElementById('linkPreview').style.display = 'block';
            let previewContent = '';
            
            if (name) previewContent += `<strong>${name}</strong><br>`;
            if (url) previewContent += `<a href="${url}" target="_blank">${url}</a><br>`;
            if (description) previewContent += `<small>${description}</small>`;
            
            document.getElementById('previewContent').innerHTML = previewContent;
        } else {
            document.getElementById('linkPreview').style.display = 'none';
        }
    }

    function clearLinkForm() {
        document.getElementById('linkName').value = '';
        document.getElementById('linkUrl').value = '';
        document.getElementById('linkDescription').value = '';
        document.getElementById('linkPreview').style.display = 'none';
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ==========
    function showNotification(message, type = 'info', duration = 3000) {
        // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø³Ø§Ø¨Ù‚Ø©
        document.querySelectorAll('.notification').forEach(notification => {
            notification.remove();
        });
        
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.innerHTML = `
            <div class="notification-content">
                <i class="fas fa-${getNotificationIcon(type)}"></i>
                <span>${message}</span>
            </div>
            <button class="close-notification" onclick="this.parentElement.remove()">
                <i class="fas fa-times"></i>
            </button>
        `;
        
        document.body.appendChild(notification);
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
        setTimeout(() => {
            notification.classList.add('show');
        }, 100);
        
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
        if (duration > 0) {
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.parentElement.removeChild(notification);
                    }
                }, 300);
            }, duration);
        }
        
        return notification;
    }

    function getNotificationIcon(type) {
        switch(type) {
            case 'success': return 'check-circle';
            case 'error': return 'exclamation-circle';
            case 'warning': return 'exclamation-triangle';
            case 'info': return 'info-circle';
            default: return 'info-circle';
        }
    }

    function playNotificationSound() {
        // Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØª ØªÙ†Ø¨ÙŠÙ‡ Ø¨Ø³ÙŠØ·
        try {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.1, audioContext.currentTime + 0.01);
            gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.5);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        } catch (error) {
            console.log('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª:', error);
        }
    }

    // ========== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ==========
    function updateDashboard() {
        const totalTasks = tasks.length;
        const completedTasks = tasks.filter(task => task.completed).length;
        const progress = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
        
        document.getElementById('completedTasks').textContent = completedTasks;
        document.getElementById('totalTasks').textContent = totalTasks;
        document.getElementById('progressPercent').textContent = progress + '%';
        document.getElementById('remainingTasks').textContent = totalTasks - completedTasks;
        document.getElementById('progressBar').style.width = progress + '%';
        document.getElementById('progressText').textContent = progress + '%';
    }

    function updateProfile() {
        document.getElementById('profileTasksCompleted').textContent = completedTasksCount;
        document.getElementById('profileStreak').textContent = streakDays;
        document.getElementById('profileLevel').textContent = Math.floor(userPoints / 100) + 1;
        document.getElementById('profilePoints').textContent = userPoints;
        document.getElementById('profilePomodoroSessions').textContent = pomodoroSessions;
        document.getElementById('profileNotesCount').textContent = notes.length;
        document.getElementById('profileLinksCount').textContent = links.length;
        document.getElementById('profileStudyDays').textContent = studyDays.size;
    }

    function updateStats() {
        document.getElementById('streakDays').textContent = streakDays;
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
        const oneWeekAgo = new Date();
        oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
        const weeklyCompleted = tasks.filter(task => {
            return task.completed; // ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØŒ Ù„Ø§ Ù†Ø®Ø²Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²
        }).length;
        document.getElementById('weeklyCompleted').textContent = weeklyCompleted;
        
        // Ø­Ø³Ø§Ø¨ Ø£ÙØ¶Ù„ ÙŠÙˆÙ… (Ø£ÙƒØ«Ø± ÙŠÙˆÙ… Ø¨Ù‡ Ù…Ù‡Ø§Ù… Ù…ÙƒØªÙ…Ù„Ø©)
        const dayStats = {};
        tasks.forEach(task => {
            if (task.completed) {
                dayStats[task.day] = (dayStats[task.day] || 0) + 1;
            }
        });
        
        let bestDay = 'Ù„Ø§ ÙŠÙˆØ¬Ø¯';
        let maxTasks = 0;
        for (const day in dayStats) {
            if (dayStats[day] > maxTasks) {
                maxTasks = dayStats[day];
                bestDay = day;
            }
        }
        document.getElementById('bestDay').textContent = bestDay;
        
        // Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆÙ‚Øª Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© (ØªÙ‚Ø¯ÙŠØ±ÙŠ)
        const totalStudyTime = Math.round(pomodoroSessions * 25 / 60);
        document.getElementById('totalStudyTime').textContent = totalStudyTime;
    }

    function toggleUserDropdown() {
        const dropdown = document.getElementById('userDropdown');
        dropdown.classList.toggle('show');
    }

    function toggleFocusMode() {
        const focusMode = document.getElementById('focusMode');
        const isActive = focusMode.classList.toggle('active');
        
        if (isActive) {
            // Ø¹Ù†Ø¯ ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ²ØŒ Ø§Ø®ØªØ± Ù…Ù‡Ù…Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø©
            const pendingTasks = tasks.filter(task => !task.completed && !task.vacation);
            if (pendingTasks.length > 0) {
                const randomTask = pendingTasks[Math.floor(Math.random() * pendingTasks.length)];
                currentFocusTask = randomTask;
                document.getElementById('focusTask').textContent = randomTask.text;
            } else {
                document.getElementById('focusTask').textContent = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… pending';
            }
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
            focusMinutes = 60;
            focusSeconds = 0;
            updateFocusTimerDisplay();
        } else {
            // Ø¹Ù†Ø¯ Ø¥ÙŠÙ‚Ø§Ù ÙˆØ¶Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ²
            stopFocusTimer();
        }
    }

    function startFocusTimer() {
        if (!focusTimerRunning) {
            focusTimerRunning = true;
            focusTimerInterval = setInterval(updateFocusTimer, 1000);
        }
    }

    function pauseFocusTimer() {
        if (focusTimerRunning) {
            focusTimerRunning = false;
            clearInterval(focusTimerInterval);
        }
    }

    function updateFocusTimer() {
        if (focusSeconds === 0) {
            if (focusMinutes === 0) {
                // Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª
                focusTimerComplete();
                return;
            }
            focusMinutes--;
            focusSeconds = 59;
        } else {
            focusSeconds--;
        }
        
        updateFocusTimerDisplay();
    }

    function updateFocusTimerDisplay() {
        const display = document.getElementById('focusTimer');
        display.textContent = `${focusMinutes.toString().padStart(2, '0')}:${focusSeconds.toString().padStart(2, '0')}`;
    }

    function focusTimerComplete() {
        clearInterval(focusTimerInterval);
        focusTimerRunning = false;
        
        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡
        playNotificationSound();
        
        // Ù…Ù†Ø­ Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ©
        userPoints += 20;
        
        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ù…Ù‡Ù…Ø© Ù…Ø­Ø¯Ø¯Ø©ØŒ ÙˆØ¶Ø¹Ù‡Ø§ ÙƒÙ…ÙƒØªÙ…Ù„Ø©
        if (currentFocusTask) {
            currentFocusTask.completed = true;
            completedTasksCount++;
        }
        
        showNotification('ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ø£ÙƒÙ…Ù„Øª Ø¬Ù„Ø³Ø© ØªØ±ÙƒÙŠØ² Ù…Ø¯ØªÙ‡Ø§ Ø³Ø§Ø¹Ø© ÙƒØ§Ù…Ù„Ø© ÙˆØ±Ø¨Ø­Øª 20 Ù†Ù‚Ø·Ø©', 'success');
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        saveUserData().then(() => {
            updateDashboard();
            updateRewards();
            updateProfile();
        });
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        toggleFocusMode();
    }

    function stopFocusTimer() {
        focusTimerRunning = false;
        clearInterval(focusTimerInterval);
    }

    function saveProgress() {
        saveUserData().then(() => {
            showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­', 'success');
        });
    }

    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
    window.onclick = function(event) {
        if (!event.target.matches('.user-profile')) {
            const dropdown = document.getElementById('userDropdown');
            if (dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
            }
        }
    };

    // ========== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© ==========
    function openAddTaskModal() {
        document.getElementById('addTaskModal').style.display = 'flex';
    }

    function closeAddTaskModal() {
        document.getElementById('addTaskModal').style.display = 'none';
        
        // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
        document.getElementById('newTaskText').value = '';
        document.getElementById('newTaskNotes').value = '';
        document.getElementById('newTaskLink').value = '';
    }

    function closeEditTaskModal() {
        document.getElementById('editTaskModal').style.display = 'none';
        editingTaskId = null;
    }

    function openAddNoteModal() {
        document.getElementById('addNoteModal').style.display = 'flex';
    }

    function closeAddNoteModal() {
        document.getElementById('addNoteModal').style.display = 'none';
        
        // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
        document.getElementById('newNoteTitle').value = '';
        document.getElementById('newNoteContent').value = '';
    }

    function closeTaskNotesModal() {
        document.getElementById('taskNotesModal').style.display = 'none';
    }

    async function addNewTask() {
        const taskText = document.getElementById('newTaskText').value.trim();
        const taskDay = document.getElementById('newTaskDay').value;
        const taskPriority = document.getElementById('newTaskPriority').value;
        const taskNotes = document.getElementById('newTaskNotes').value.trim();
        const taskLink = document.getElementById('newTaskLink').value.trim();
        
        if (!taskText) {
            showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø©', 'error');
            return;
        }
        
        const newTask = {
            id: Date.now(),
            text: taskText,
            day: taskDay,
            completed: false,
            priority: taskPriority
        };
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
        if (taskNotes) {
            newTask.notes = taskNotes;
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
        if (taskLink) {
            try {
                new URL(taskLink);
                newTask.link = taskLink;
            } catch (e) {
                showNotification('Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­ØŒ Ø³ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„Ù‡', 'warning');
            }
        }
        
        tasks.push(newTask);
        
        saveUserData().then(() => {
            renderSchedule();
            renderMiniSchedule();
            updateDashboard();
            closeAddTaskModal();
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
        });
    }

    function addNewNote() {
        const noteTitle = document.getElementById('newNoteTitle').value.trim();
        const noteContent = document.getElementById('newNoteContent').value.trim();
        
        if (!noteTitle || !noteContent) {
            showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
            return;
        }
        
        const newNote = {
            id: Date.now(),
            title: noteTitle,
            content: noteContent,
            date: new Date().toISOString()
        };
        
        notes.push(newNote);
        
        saveUserData().then(() => {
            renderNotes();
            closeAddNoteModal();
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            updateProfile();
        });
    }

    // ========== Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ==========
    function takeVacation() {
        if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø£Ø®Ø° Ø¥Ø¬Ø§Ø²Ø© Ù„Ù„ÙŠÙˆÙ…ØŸ Ø³ÙŠØªÙ… ØªØ¹Ù„ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‡Ø§Ù… Ù„Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ.')) {
            const today = new Date().toLocaleDateString('ar-SA', { weekday: 'long' });
            let vacationCount = 0;
            
            tasks.forEach(task => {
                if (task.day === today && !task.completed && !task.vacation) {
                    task.vacation = true;
                    vacationCount++;
                }
            });
            
            saveUserData().then(() => {
                renderSchedule();
                showNotification(`ØªÙ… ØªØ¹Ù„ÙŠÙ‚ ${vacationCount} Ù…Ù‡Ù…Ø© Ù„Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ`, 'success');
            });
        }
    }

    function cancelVacation() {
        const today = new Date().toLocaleDateString('ar-SA', { weekday: 'long' });
        let unVacationCount = 0;
        
        tasks.forEach(task => {
            if (task.day === today && task.vacation) {
                task.vacation = false;
                unVacationCount++;
            }
        });
        
        saveUserData().then(() => {
            renderSchedule();
            showNotification(`ØªÙ… Ø¥Ù„ØºØ§Ø¡ ØªØ¹Ù„ÙŠÙ‚ ${unVacationCount} Ù…Ù‡Ù…Ø©`, 'success');
        });
    }

    function resetProgress() {
        if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø¯Ù…ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª.')) {
            tasks.forEach(task => {
                task.completed = false;
                task.vacation = false;
            });
            completedTasksCount = 0;
            userPoints = 0;
            streakDays = 0;
            studyDays.clear();
            pomodoroSessions = 0;
            
            saveUserData().then(() => {
                renderSchedule();
                renderMiniSchedule();
                updateDashboard();
                updateRewards();
                updateProfile();
                renderCalendar();
                showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø¯Ù…', 'success');
            });
        }
    }

    function exportUserData() {
        const userData = {
            tasks: tasks,
            notes: notes,
            links: links,
            pomodoroSessions: pomodoroSessions,
            userPoints: userPoints,
            streakDays: streakDays,
            studyDays: Array.from(studyDays),
            completedTasksCount: completedTasksCount,
            exportDate: new Date().toISOString(),
            version: '1.0'
        };
        
        const dataStr = JSON.stringify(userData, null, 2);
        const dataBlob = new Blob([dataStr], { type: 'application/json' });
        
        const url = URL.createObjectURL(dataBlob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `study_system_backup_${new Date().toISOString().split('T')[0]}.json`;
        link.click();
        
        URL.revokeObjectURL(url);
        showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
    }

    function importUserData(event) {
        const file = event.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                const userData = JSON.parse(e.target.result);
                
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯Ø©
                if (userData.tasks) tasks = userData.tasks;
                if (userData.notes) notes = userData.notes;
                if (userData.links) links = userData.links;
                if (userData.pomodoroSessions) pomodoroSessions = userData.pomodoroSessions;
                if (userData.userPoints) userPoints = userData.userPoints;
                if (userData.streakDays) streakDays = userData.streakDays;
                if (userData.studyDays) studyDays = new Set(userData.studyDays);
                if (userData.completedTasksCount) completedTasksCount = userData.completedTasksCount;
                
                saveUserData().then(() => {
                    initializeApp();
                    showNotification('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
                });
                
            } catch (error) {
                showNotification('Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­', 'error');
            }
        };
        reader.readAsText(file);
        event.target.value = '';
    }

    function clearAllData() {
        if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) {
            tasks = [];
            notes = [];
            links = [];
            pomodoroSessions = 0;
            userPoints = 0;
            streakDays = 0;
            studyDays.clear();
            completedTasksCount = 0;
            
            saveUserData().then(() => {
                initializeApp();
                showNotification('ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'success');
            });
        }
    }

    function saveSettings() {
        const userName = document.getElementById('settingsUserName').value.trim();
        const userEmail = document.getElementById('settingsUserEmail').value.trim();
        const password = document.getElementById('settingsUserPassword').value;
        const confirmPassword = document.getElementById('settingsUserConfirmPassword').value;
        
        if (userName) {
            // ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            document.getElementById('userName').textContent = userName;
            document.getElementById('headerUserName').textContent = userName;
            document.getElementById('userAvatar').textContent = userName.charAt(0);
            document.getElementById('profileAvatar').textContent = userName.charAt(0);
            document.getElementById('profileName').textContent = userName;
        }
        
        if (userEmail && userEmail !== currentUser) {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (ÙŠØªØ·Ù„Ø¨ Ù…Ø²ÙŠØ¯Ø§Ù‹ Ù…Ù† Ø§Ù„ØªØ·ÙˆÙŠØ±)
            showNotification('ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙŠØªØ·Ù„Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„', 'warning');
        }
        
        if (password) {
            if (password !== confirmPassword) {
                showNotification('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©', 'error');
                return;
            }
            // ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (ÙŠØªØ·Ù„Ø¨ Ù…Ø²ÙŠØ¯Ø§Ù‹ Ù…Ù† Ø§Ù„ØªØ·ÙˆÙŠØ±)
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', 'success');
        }
        
        showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
    }

    function filterTasks(searchTerm) {
        // Ù‡Ø°Ø§ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ø§Ù‹ Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
        // ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¥ØµØ¯Ø§Ø±ØŒ Ø³Ù†Ù‚ÙˆÙ… ÙÙ‚Ø· Ø¨Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ±
        const taskItems = document.querySelectorAll('.task-item');
        taskItems.forEach(item => {
            const taskText = item.querySelector('.task-text').textContent;
            if (taskText.toLowerCase().includes(searchTerm.toLowerCase())) {
                item.style.display = 'flex';
            } else {
                item.style.display = 'none';
            }
        });
    }

    function filterTasksByStatus(status) {
        const taskItems = document.querySelectorAll('.task-item');
        taskItems.forEach(item => {
            switch(status) {
                case 'completed':
                    item.style.display = item.classList.contains('completed') ? 'flex' : 'none';
                    break;
                case 'pending':
                    item.style.display = !item.classList.contains('completed') ? 'flex' : 'none';
                    break;
                case 'vacation':
                    item.style.display = item.classList.contains('vacation') ? 'flex' : 'none';
                    break;
                case 'with-links':
                    // Ù‡Ø°Ø§ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ­Ø³ÙŠÙ† Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±ÙˆØ§Ø¨Ø·
                    item.style.display = 'flex'; // Ù…Ø¤Ù‚ØªØ§Ù‹
                    break;
                default:
                    item.style.display = 'flex';
            }
        });
    }

    // ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø§Ø±Ùƒ Ù…ÙˆØ¯ ==========
    function loadDarkMode() {
        const isDarkMode = localStorage.getItem('darkMode') === 'true';
        if (isDarkMode) {
            document.body.classList.add('dark-mode');
            document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i>';
        }
    }

    function saveDarkMode() {
        const isDarkMode = document.body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDarkMode);
    }

    // ========== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ==========
    document.addEventListener('DOMContentLoaded', function() {
        // Ù…Ø­Ø§ÙƒØ§Ø© Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        let progress = 0;
        const progressInterval = setInterval(() => {
            progress += 5;
            document.getElementById('loadingProgress').style.width = progress + '%';
            
            if (progress >= 100) {
                clearInterval(progressInterval);
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.opacity = '0';
                    setTimeout(() => {
                        document.getElementById('loadingScreen').style.display = 'none';
                    }, 500);
                }, 500);
            }
        }, 100);
        
        // ØªÙ‡ÙŠØ¦Ø© ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù…Ø©
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            themeToggle.innerHTML = document.body.classList.contains('dark-mode') ? 
                '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            saveDarkMode();
        });
        
        // ØªÙ‡ÙŠØ¦Ø© Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
        const sidebarToggle = document.getElementById('sidebarToggle');
        if (sidebarToggle) {
            sidebarToggle.addEventListener('click', function() {
                const sidebar = document.querySelector('.sidebar');
                sidebar.classList.toggle('active');
            });
        }
        
        // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø³Ø¬Ù„Ø§Ù‹ Ø§Ù„Ø¯Ø®ÙˆÙ„
        const savedUser = localStorage.getItem('currentUser');
        if (savedUser) {
            currentUser = savedUser;
            openDatabase().then(() => {
                // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                const transaction = db.transaction(['users'], 'readonly');
                const store = transaction.objectStore('users');
                const request = store.get(savedUser);
                
                request.onsuccess = () => {
                    const user = request.result;
                    if (user) {
                        loadUserData().then(userData => {
                            if (userData.tasks) tasks = userData.tasks;
                            if (userData.notes) notes = userData.notes;
                            if (userData.links) links = userData.links;
                            if (userData.pomodoroSessions) pomodoroSessions = userData.pomodoroSessions;
                            if (userData.userPoints) userPoints = userData.userPoints;
                            if (userData.streakDays) streakDays = userData.streakDays;
                            if (userData.studyDays) studyDays = new Set(userData.studyDays);
                            if (userData.completedTasksCount) completedTasksCount = userData.completedTasksCount;
                            
                            updateUserInfo(user);
                            initializeApp();
                            document.getElementById('authSection').style.display = 'none';
                            document.getElementById('appContainer').classList.add('active');
                        });
                    }
                };
            });
        }
    });
  </script>
</body>
</html>